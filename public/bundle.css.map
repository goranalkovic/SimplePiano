{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\App.svelte",
    "..\\Button.svelte",
    "..\\Card.svelte",
    "..\\Controls.svelte",
    "..\\DragAndDropList.svelte",
    "..\\InstrumentCard.svelte",
    "..\\InstrumentList.svelte",
    "..\\KeyboardKey.svelte",
    "..\\PianoGrid.svelte",
    "..\\SetEditor.svelte",
    "..\\SetList.svelte",
    "..\\SlideControl.svelte",
    "..\\ThemeSwitcher.svelte",
    "..\\TitleBar.svelte",
    "..\\Toast.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n\r\n  import Button from \"./components/Button.svelte\";\r\n  import TitleBar from \"./components/TitleBar.svelte\";\r\n  import Controls from \"./components/Controls.svelte\";\r\n  import PianoGrid from \"./components/PianoGrid.svelte\";\r\n  import SetEditor from \"./components/SetEditor.svelte\";\r\n  import SetList from \"./components/SetList.svelte\";\r\n  import InstrumentList from \"./components/InstrumentList.svelte\";\r\n  import ThemeSwitcher from \"./components/ThemeSwitcher.svelte\";\r\n  import Toast from \"./components/Toast.svelte\";\r\n  import KeyboardKey from \"./components/KeyboardKey.svelte\";\r\n\r\n  import {\r\n    soundFont,\r\n    keyCodes,\r\n    keyNotes,\r\n    activeSet,\r\n    instrumentSets,\r\n    keysDown,\r\n    keysPressed,\r\n    volume,\r\n    octaveShift,\r\n    currentSoundFont,\r\n    ac,\r\n    defaultAdsr,\r\n    isFocused,\r\n    showAdsr,\r\n    editMode,\r\n    theme,\r\n    isReordering,\r\n    chordMode,\r\n    chordNotes,\r\n    chords,\r\n    defaultChords,\r\n  } from \"./stores.js\";\r\n\r\n  import Soundfont from \"soundfont-player\";\r\n\r\n  instrumentSets.useLocalStorage();\r\n  showAdsr.useLocalStorage();\r\n  currentSoundFont.useLocalStorage();\r\n  activeSet.useLocalStorage();\r\n  volume.useLocalStorage();\r\n  octaveShift.useLocalStorage();\r\n  editMode.useLocalStorage();\r\n  theme.useLocalStorage();\r\n  isReordering.useLocalStorage();\r\n  chordMode.useLocalStorage();\r\n  chordNotes.useLocalStorage();\r\n\r\n  $: themeName = $theme === 0 ? \"Auto\" : $theme === 1 ? \"Light\" : \"Dark\";\r\n\r\n  function clamp(value, min, max) {\r\n    if (value <= min) return min;\r\n    if (value >= max) return max;\r\n    return value;\r\n  }\r\n\r\n  function stopAllSounds() {\r\n    try {\r\n      if ($instrumentSets[$activeSet].instruments.length < 1) return;\r\n\r\n      for (let instr of $instrumentSets[$activeSet].instruments) {\r\n        console.log(instr);\r\n        instr.data.then((k) => {\r\n          k.stop();\r\n        });\r\n      }\r\n\r\n      for (let i in keyCodes) {\r\n        document\r\n          .querySelector(\"#\" + keyCodes[i])\r\n          .classList.remove(\"piano-key-highlight\");\r\n      }\r\n\r\n      window.pushToast(\"Stopped all sounds\", \"error\");\r\n    } catch (error) {}\r\n  }\r\n\r\n  function applyTheme() {\r\n    if (\r\n      ($theme === 0 &&\r\n        window.matchMedia(\"(prefers-color-scheme: dark)\").matches) ||\r\n      $theme === 2\r\n    ) {\r\n      document.querySelector(\"html\").className = \"dark\";\r\n    } else {\r\n      document.querySelector(\"html\").className = \"\";\r\n    }\r\n  }\r\n\r\n  function toggleEditMode() {\r\n    editMode.set(!$editMode);\r\n    instrumentSets.set([...$instrumentSets]);\r\n    if ($editMode === false) isReordering.set(false);\r\n\r\n    window.pushToast(\"Edit mode \" + ($editMode ? \"on\" : \"off\"));\r\n  }\r\n  function toggleChordMode() {\r\n    chordMode.set(!$chordMode);\r\n\r\n    window.pushToast(\"Chord mode \" + ($chordMode ? \"on\" : \"off\"));\r\n  }\r\n\r\n  function handleKeyDown(e) {\r\n    if ($isFocused || $editMode) {\r\n      return;\r\n    } else if (e.keyCode !== 116) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n\r\n    let kCode = e.keyCode;\r\n\r\n    // console.log(kCode);\r\n\r\n    if ($instrumentSets[$activeSet].instruments.length < 1) return;\r\n    if (keyCodes[kCode] == null) return;\r\n    if (keyNotes[kCode] == null) return;\r\n    if ($keysPressed[kCode] === null) return;\r\n    if ($keysDown[kCode] === true) return;\r\n\r\n    document\r\n      .querySelector(\"#\" + keyCodes[kCode])\r\n      .classList.add(\"piano-key-highlight\");\r\n\r\n    $keysDown[kCode] = true;\r\n    // keysDown.update(kd => {\r\n    //   kd[kCode] = true;\r\n    //   return kd;\r\n    // });\r\n\r\n    for (let instrument of $instrumentSets[$activeSet].instruments) {\r\n      let vol =\r\n        instrument.volume > -1\r\n          ? instrument.absoluteVolume\r\n            ? ($volume * (instrument.volume / 100)) / 100\r\n            : instrument.volume / 100\r\n          : $volume / 100;\r\n\r\n      let adjustedOctShift = clamp($octaveShift + instrument.octave, -3, 3);\r\n\r\n      instrument.data.then((instr) => {\r\n        let newAdsr = instrument.adsr;\r\n\r\n        if (newAdsr[0] < 0) newAdsr[0] = defaultAdsr[0];\r\n        if (newAdsr[1] < 0) newAdsr[1] = defaultAdsr[1];\r\n        if (newAdsr[2] < 0) newAdsr[2] = defaultAdsr[2];\r\n        if (newAdsr[3] < 0) newAdsr[3] = defaultAdsr[3];\r\n\r\n        let noteCollection = $chordMode\r\n          ? chords[$chordNotes[kCode]]\r\n          : keyNotes[kCode];\r\n\r\n        if (noteCollection == null) return;\r\n\r\n        for (let noteCode of noteCollection) {\r\n          let note = (\r\n            parseInt($chordMode ? keyNotes[noteCode] : noteCode) +\r\n            12 * adjustedOctShift\r\n          ).toString();\r\n\r\n          try {\r\n            let inst = instr.play(note, ac.currentTime, {\r\n              loop: true,\r\n              adsr: newAdsr,\r\n              gain: vol,\r\n            });\r\n            if ($keysPressed[kCode].indexOf(inst) === -1) {\r\n              let currentPressed = $keysPressed[kCode];\r\n\r\n              $keysPressed[kCode] = [...currentPressed, inst];\r\n              // keysPressed.update(kp => {\r\n              //   kp[kCode] = [...currentPressed, inst];\r\n              //   return kp;\r\n              // });\r\n            }\r\n          } catch (error) {\r\n            window.popToast(\"Error: \" + error.message);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleKeyUp(e) {\r\n    if ($isFocused || $editMode) {\r\n      return;\r\n    } else if (e.keyCode !== 116) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n\r\n    let kCode = e.keyCode;\r\n\r\n    if (kCode >= 48 && kCode <= 58) {\r\n      stopAllSounds();\r\n\r\n      let newCode = kCode - 49;\r\n\r\n      if (kCode == 48) {\r\n        newCode = 9;\r\n      }\r\n\r\n      if ($instrumentSets[newCode] != undefined) activeSet.set(newCode);\r\n      else activeSet.set(0);\r\n    }\r\n\r\n    if (kCode === 16) {\r\n      if ($octaveShift <= 2) {\r\n        // octaveShift.update(os => os + 1);\r\n        octaveShift.set($octaveShift + 1);\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (kCode === 17) {\r\n      if ($octaveShift >= -2) {\r\n        // octaveShift.update(os => os - 1);\r\n        octaveShift.set($octaveShift - 1);\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (kCode === 37) {\r\n      // if ($volume >= 1) volume.update(v => v - 1);\r\n      if ($volume >= 1) volume.set($volume - 1);\r\n      return;\r\n    }\r\n\r\n    if (kCode === 40) {\r\n      // if ($volume >= 10) volume.update(v => v - 10);\r\n      // if ($volume - 10 < 0) volume.update(v => v = 0);\r\n      if ($volume >= 10) volume.set($volume - 10);\r\n      if ($volume - 10 < 0) volume.set(0);\r\n      return;\r\n    }\r\n\r\n    if (kCode === 39) {\r\n      // if ($volume < 99) volume.update(v => v + 1);\r\n      if ($volume < 99) volume.set($volume + 1);\r\n      return;\r\n    }\r\n\r\n    if (kCode === 38) {\r\n      // if ($volume <= 90) volume.update(v => v + 10);\r\n      // if($volume + 10 > 100) volume.update(v => v = 100);\r\n      if ($volume <= 90) volume.set($volume + 10);\r\n      if ($volume + 10 > 100) volume.set(100);\r\n      return;\r\n    }\r\n\r\n    if (kCode === 192) {\r\n      toggleChordMode();\r\n      return;\r\n    }\r\n\r\n    if ($instrumentSets[$activeSet].instruments.length < 1) return;\r\n    if (keyCodes[kCode] == null) return;\r\n    if (keyNotes[kCode] == null) return;\r\n    if ($keysPressed[kCode] === null) return;\r\n    if ($keysDown[kCode] === false) return;\r\n\r\n    document\r\n      .querySelector(\"#\" + keyCodes[kCode])\r\n      .classList.remove(\"piano-key-highlight\");\r\n\r\n    $keysDown[kCode] = false;\r\n    // keysDown.update(kd => {\r\n    //   kd[kCode] = false;\r\n    //   return kd;\r\n    // });\r\n\r\n    for (var i of $keysPressed[kCode]) {\r\n      try {\r\n        i.stop();\r\n      } catch (err) {\r\n        console.error(\"Errored stop, stopping all.\");\r\n        console.error(\"Error: \", err.message);\r\n        stopAllSounds();\r\n      }\r\n    }\r\n\r\n    $keysPressed[kCode] = [];\r\n    // keysPressed.update(kp => {\r\n    //   kp[kCode] = [];\r\n    //   return kp;\r\n    // });\r\n\r\n    // console.log('Pressed key ' + keyCodes[kCode] + ' (key code ' + kCode + ', note ' + keyNotes[kCode] + ')')\r\n  }\r\n\r\n  onMount(() => {\r\n    let colorSchemeQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n    colorSchemeQuery.addEventListener(\"change\", applyTheme);\r\n\r\n    applyTheme();\r\n\r\n    for (let set of $instrumentSets) {\r\n      if (set.id == null) {\r\n        set.id = randId();\r\n      }\r\n    }\r\n  });\r\n\r\n  function randId() {\r\n    return Math.random()\r\n      .toString(36)\r\n      .replace(/[^a-z]+/g, \"\")\r\n      .substr(2, 10);\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .split {\r\n    display: flex;\r\n  }\r\n\r\n  h3 {\r\n    font-weight: 400;\r\n  }\r\n\r\n  .chord-controls {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n\r\n  <TitleBar>\r\n    <h3 slot=\"left\">Piano</h3>\r\n\r\n    <Button on:click={stopAllSounds}>Stop all sounds</Button>\r\n    <Button spaced toggled={$editMode} on:click={toggleEditMode}>\r\n      Edit mode\r\n    </Button>\r\n    <Button spaced toggled={$chordMode} on:click={toggleChordMode}>\r\n      <div style=\"display: flex\">\r\n        Chord mode\r\n        <span\r\n          style=\"opacity: 0.6; margin-left: 5px; font-family: 'Inter',\r\n          sans-serif; border: 1px solid var(--body-text); border-radius: 2px;\r\n          padding: 0 4px;\">\r\n          ~\r\n        </span>\r\n      </div>\r\n    </Button>\r\n    <ThemeSwitcher />\r\n  </TitleBar>\r\n\r\n  <Controls />\r\n\r\n  {#if $editMode}\r\n    <div class=\"chord-controls\">\r\n      <Button\r\n        spaced\r\n        on:click={() => {\r\n          let temp = $chordNotes;\r\n          for (let keyboardKey of Object.keys(defaultChords)) {\r\n            temp[keyboardKey] = '';\r\n          }\r\n          chordNotes.set(temp);\r\n          for (let sel of document.querySelectorAll('.piano-grid select')) {\r\n            sel.value = null;\r\n          }\r\n        }}>\r\n        Clear all chords\r\n      </Button>\r\n      <Button\r\n        spaced\r\n        on:click={() => {\r\n          chordNotes.set(defaultChords);\r\n        }}>\r\n        Reset to default\r\n      </Button>\r\n    </div>\r\n  {/if}\r\n\r\n  <PianoGrid />\r\n\r\n  <div class=\"split\">\r\n    <InstrumentList />\r\n    <SetEditor />\r\n    <SetList />\r\n  </div>\r\n\r\n</div>\r\n\r\n<svelte:window on:keydown={handleKeyDown} on:keyup={handleKeyUp} />\r\n\r\n<Toast />\r\n",
    "<script>\r\n  export let spaced = false;\r\n  export let style = null;\r\n  export let outline = false;\r\n  export let toggled = false;\r\n  export let active = false;\r\n  export let rectangular = false;\r\n</script>\r\n\r\n<style>\r\n  button {\r\n    border: none;\r\n    background: var(--white-key-color);\r\n    color: var(--body-text);\r\n    padding: 4px 8px;\r\n    box-shadow: var(--shadow-small);\r\n    border-radius: 3px;\r\n    transition: var(--transition);\r\n    cursor: pointer;\r\n    font-family: var(--font-family);\r\n  }\r\n\r\n  button:hover,\r\n  button.active {\r\n    /*font-weight: 600;*/\r\n    background: var(--accent-color);\r\n    color: var(--black-key-color);\r\n    box-shadow: var(--shadow-big);\r\n  }\r\n\r\n  button.outline {\r\n    background: transparent;\r\n    border: 1px solid rgba(var(--body-text-values), 0.3);\r\n    color: rgba(var(--body-text-values), 0.8);\r\n    box-shadow: none;\r\n  }\r\n\r\n  button.outline:hover,\r\n  button.outline.active {\r\n    background: var(--accent-color);\r\n    color: var(--black-key-color);\r\n    border: 1px solid var(--accent-color);\r\n  }\r\n\r\n  .spaced {\r\n    margin-left: 6px;\r\n    margin-right: 6px;\r\n  }\r\n\r\n  button:not(.outline).toggled {\r\n    border-bottom: 2px solid var(--accent-color);\r\n  }\r\n\r\n  button:not(.outline).toggled:hover {\r\n    border-bottom: 2px solid var(--body-text);\r\n  }\r\n\r\n  button.outline.toggled {\r\n    border: 1px solid var(--accent-color);\r\n  }\r\n\r\n  button.outline.toggled:hover {\r\n    border: 1px solid rgba(var(--body-text-values), 0.6);\r\n  }\r\n\r\n  button.rectangular {\r\n    border-radius: 0;\r\n  }\r\n</style>\r\n\r\n<button\r\n  class:spaced\r\n  class:outline\r\n  class:toggled\r\n  class:active\r\n  class:rectangular\r\n  {style}\r\n  on:click>\r\n  <slot />\r\n</button>\r\n",
    "<script>\r\n  import { slide } from \"svelte/transition\";\r\n  import { flip } from \"svelte/animate\";\r\n\r\n  export let disabled = false;\r\n  export let active = false;\r\n  export let selectable = false;\r\n  export let passive = true;\r\n  export let addClass = \"\";\r\n</script>\r\n\r\n<style>\r\n  .card,\r\n  .card.passive {\r\n    box-shadow: var(--shadow-small);\r\n    padding: 8px;\r\n    border-radius: var(--border-radius);\r\n    background: var(--white-key-color);\r\n    margin: 0.4rem 0;\r\n    transition: var(--transition);\r\n    user-select: none;\r\n    box-sizing: border-box;\r\n    border: 1px solid transparent;\r\n  }\r\n\r\n  .card:not(.passive) {\r\n    cursor: pointer;\r\n    pointer-events: all;\r\n  }\r\n\r\n  .card.active {\r\n    /*box-shadow: var(--shadow-big-accent);*/\r\n    border: 1px solid var(--accent-color);\r\n  }\r\n\r\n  .card.disabled {\r\n    opacity: 0.4;\r\n  }\r\n\r\n  .card:not(.passive):hover {\r\n    opacity: 1;\r\n    box-shadow: var(--shadow-big);\r\n  }\r\n</style>\r\n\r\n{#if passive}\r\n  <div\r\n    on:mouseover\r\n    on:mouseleave\r\n    transition:slide\r\n    animation:flip={{ duration: 300 }}\r\n    class=\"card passive {addClass}\"\r\n    class:active\r\n    class:disabled\r\n    class:selectable>\r\n    <slot />\r\n  </div>\r\n{:else}\r\n  <div\r\n    on:click\r\n    on:mouseover\r\n    on:mouseleave\r\n    transition:slide\r\n    animation:flip={{ duration: 300 }}\r\n    class=\"card {addClass}\"\r\n    class:active\r\n    class:disabled={disabled && !active}\r\n    class:selectable>\r\n    <slot />\r\n  </div>\r\n{/if}\r\n",
    "<script>\r\n  import { volume, octaveShift, editMode } from \"../stores\";\r\n  import SlideControl from \"./SlideControl.svelte\";\r\n\r\n  let volumeControl = {\r\n    title: \"Volume\",\r\n    min: 0,\r\n    max: 100,\r\n    step: 1,\r\n    keyboardKeys: [\r\n      { label: \"-1\", key: \"←\" },\r\n      { label: \"+1\", key: \"→\" },\r\n      { label: \"+10\", key: \"↑\" },\r\n      { label: \"-10\", key: \"↓\" },\r\n    ],\r\n  };\r\n\r\n  let octaveControl = {\r\n    title: \"Octave shift\",\r\n    min: -3,\r\n    max: 3,\r\n    step: 0.5,\r\n    keyboardKeys: [\r\n      { label: \"Up\", key: \"⇧\", square: false },\r\n      { label: \"Dn\", key: \"<small>Ctrl</small>\", square: false },\r\n    ],\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .flex {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .spacer {\r\n    display: inline-block;\r\n    content: \"\";\r\n    width: 2rem;\r\n  }\r\n\r\n  .transparent {\r\n    opacity: 0.2;\r\n    pointer-events: none;\r\n  }\r\n</style>\r\n\r\n<div class=\"flex\" class:transparent={$editMode}>\r\n  <SlideControl {...volumeControl} bind:value={$volume} />\r\n  <div class=\"spacer\" />\r\n  <SlideControl {...octaveControl} bind:value={$octaveShift} />\r\n</div>\r\n",
    "<script>\r\n  import { slide, crossfade } from \"svelte/transition\";\r\n  import { quintOut } from \"svelte/easing\";\r\n  import { flip } from \"svelte/animate\";\r\n\r\n  export let list;\r\n  export let update;\r\n  export let canReroder = false;\r\n\r\n  // DRAG AND DROP\r\n  let isOver = false;\r\n  const getDraggedParent = node =>\r\n    (node.dataset.index && node.dataset) || getDraggedParent(node.parentNode);\r\n  const start = ev => {\r\n    ev.dataTransfer.setData(\"source\", ev.target.dataset.index);\r\n  };\r\n  const over = ev => {\r\n    ev.preventDefault();\r\n    let dragged = getDraggedParent(ev.target);\r\n    if (isOver !== dragged.id) isOver = JSON.parse(dragged.id);\r\n  };\r\n  const leave = ev => {\r\n    let dragged = getDraggedParent(ev.target);\r\n    if (isOver === dragged.id) isOver = false;\r\n  };\r\n  const drop = ev => {\r\n    isOver = false;\r\n    ev.preventDefault();\r\n    let dragged = getDraggedParent(ev.target);\r\n    let from = ev.dataTransfer.getData(\"source\");\r\n    let to = dragged.index;\r\n    reorder({ from, to });\r\n  };\r\n\r\n  // DISPATCH REORDER\r\n  import { createEventDispatcher } from \"svelte\";\r\n  const dispatch = createEventDispatcher();\r\n  const reorder = ({ from, to }) => {\r\n    update(from, to);\r\n  };\r\n\r\n  // UTILS\r\n  let key = \"id\";\r\n\r\n  const getKey = item => (key ? item[key] : item);\r\n</script>\r\n\r\n<style>\r\n  .list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style-type: none;\r\n  }\r\n\r\n  .reordering,\r\n  .reordering * {\r\n    cursor: move !important;\r\n  }\r\n</style>\r\n\r\n<ul class=\"list\">\r\n  {#each list as item, index (item.id)}\r\n    <li\r\n      class:reordering={canReroder}\r\n      data-index={index}\r\n      data-id={JSON.stringify(getKey(item))}\r\n      draggable={canReroder}\r\n      on:dragstart={start}\r\n      on:dragover={over}\r\n      on:dragleave={leave}\r\n      on:drop={drop}\r\n      animate:flip={{ duration: 300 }}>\r\n      <slot {item} {index} />\r\n    </li>\r\n  {:else}\r\n    <slot name=\"error\" />\r\n  {/each}\r\n</ul>\r\n",
    "<script>\r\n  import { slide, fade } from \"svelte/transition\";\r\n\r\n  import Card from \"./Card.svelte\";\r\n  import Button from \"./Button.svelte\";\r\n  import SlideControl from \"./SlideControl.svelte\";\r\n\r\n  import {\r\n    instrumentSets,\r\n    activeSet,\r\n    octaveShift,\r\n    currentSoundFont,\r\n    defaultAdsr,\r\n    showAdsr,\r\n    editMode\r\n  } from \"../stores\";\r\n\r\n  export let id;\r\n  export let name;\r\n  export let volume;\r\n  export let octave;\r\n  export let data;\r\n  export let soundfont;\r\n  export let adsr;\r\n  export let absoluteVolume;\r\n  export let nohover = false;\r\n\r\n  let optionsVisible = false;\r\n\r\n  function normalizedName(name) {\r\n    name = name.replace(/_/g, \" \");\r\n\r\n    return name.charAt(0).toUpperCase() + name.slice(1);\r\n  }\r\n\r\n  $: octShift =\r\n    octave == 0\r\n      ? \"No octave shift\"\r\n      : octave < 0\r\n      ? `Octave ${octave}`\r\n      : `Octave +${octave}`;\r\n\r\n  $: volTxt =\r\n    volume > -1\r\n      ? volume < 1\r\n        ? \"Muted\"\r\n        : `Volume ${volume}${absoluteVolume ? \"%\" : \"\"}`\r\n      : \"Custom volume not set\";\r\n\r\n  function clamp(value, min, max) {\r\n    if (value <= min) return min;\r\n    if (value >= max) return max;\r\n    return value;\r\n  }\r\n\r\n  function octavePlus() {\r\n    let currentSets = $instrumentSets;\r\n\r\n    let index = currentSets[$activeSet].instruments.findIndex(i => i.id === id);\r\n\r\n    let currentShift = currentSets[$activeSet].instruments[index].octave;\r\n    currentSets[$activeSet].instruments[index].octave = clamp(\r\n      currentShift + 1,\r\n      -3,\r\n      3\r\n    );\r\n\r\n    instrumentSets.set(currentSets);\r\n  }\r\n\r\n  function octaveMinus() {\r\n    let currentSets = $instrumentSets;\r\n\r\n    let index = currentSets[$activeSet].instruments.findIndex(i => i.id === id);\r\n\r\n    let currentShift = currentSets[$activeSet].instruments[index].octave;\r\n    currentSets[$activeSet].instruments[index].octave = clamp(\r\n      currentShift - 1,\r\n      -3,\r\n      3\r\n    );\r\n\r\n    instrumentSets.set(currentSets);\r\n  }\r\n\r\n  function removeInstrument() {\r\n    let currentSets = $instrumentSets;\r\n\r\n    currentSets[$activeSet].instruments = currentSets[\r\n      $activeSet\r\n    ].instruments.filter(i => i.id !== id);\r\n\r\n    instrumentSets.set(currentSets);\r\n  }\r\n\r\n  function setVolume() {\r\n    let currentSets = $instrumentSets;\r\n\r\n    let index = currentSets[$activeSet].instruments.findIndex(i => i.id === id);\r\n\r\n    currentSets[$activeSet].instruments[index].volume = volume;\r\n\r\n    instrumentSets.set(currentSets);\r\n  }\r\n\r\n  function toggleAbsoluteVolume() {\r\n    let currentSets = $instrumentSets;\r\n\r\n    let index = currentSets[$activeSet].instruments.findIndex(i => i.id === id);\r\n\r\n    currentSets[$activeSet].instruments[index].absoluteVolume = !currentSets[\r\n      $activeSet\r\n    ].instruments[index].absoluteVolume;\r\n\r\n    instrumentSets.set(currentSets);\r\n  }\r\n\r\n  function setAdsr() {\r\n    let currentSets = $instrumentSets;\r\n\r\n    let index = currentSets[$activeSet].instruments.findIndex(i => i.id === id);\r\n\r\n    currentSets[$activeSet].instruments[index].adsr = adsr;\r\n\r\n    instrumentSets.set(currentSets);\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .toolbar {\r\n    /* display: flex; */\r\n    margin-top: -0.1rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: start;\r\n  }\r\n\r\n  .status {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-grow: 1;\r\n  }\r\n\r\n  .info-txt {\r\n    display: inline-block;\r\n    font-size: 0.8rem;\r\n    opacity: 0.6;\r\n    margin: 0.05rem 0;\r\n  }\r\n\r\n  h4 {\r\n    margin: 0 0 0.2rem 0;\r\n    font-weight: normal;\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .row {\r\n    display: flex;\r\n    align-items: start;\r\n  }\r\n\r\n  .uppercase {\r\n    text-transform: uppercase;\r\n    font-size: 0.8rem;\r\n    font-weight: 400 !important;\r\n    letter-spacing: 1.2px;\r\n  }\r\n</style>\r\n\r\n<Card\r\n  on:mouseover={() => (optionsVisible = nohover ? false : true)}\r\n  on:mouseleave={() => (optionsVisible = false)}>\r\n  <div class=\"row\">\r\n    <div class=\"status\">\r\n      <h4 class=\"uppercase\">{normalizedName(name)}</h4>\r\n      <span class=\"info-txt\">{octShift}</span>\r\n      {#if volume > -1}\r\n        <span class=\"info-txt\" transition:slide>{volTxt}</span>\r\n      {/if}\r\n\r\n    </div>\r\n    {#if $editMode}\r\n      <div transition:fade>\r\n        <Button\r\n          style=\"height: 1.6rem; width: 1.6rem; padding: 0; margin: 0.2rem;\r\n          transform: translateY(0.15rem)\"\r\n          outline\r\n          on:click={removeInstrument}>\r\n          <span style=\"font-family: 'Inter', sans-serif; font-size: 1.2rem;\">\r\n            ✗\r\n          </span>\r\n        </Button>\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n  {#if optionsVisible && $editMode}\r\n    <div transition:slide class=\"toolbar\">\r\n\r\n      <p class=\"info-txt\">Sound font: {normalizedName(soundfont)}</p>\r\n      <div style=\"margin: 0.6rem 0\" class=\"row\">\r\n        <Button outline on:click={octavePlus}>Octave +</Button>\r\n        <Button outline on:click={octaveMinus} spaced>Octave -</Button>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div style=\"flex-grow: 1\">\r\n          <SlideControl\r\n            min={-1}\r\n            max={100}\r\n            step={1}\r\n            title={'Volume'}\r\n            bind:value={volume}\r\n            on:change={setVolume}\r\n            customValueDisplay={{ '-1': absoluteVolume ? 'Current' : 'Default', '0': 'Muted' }} />\r\n        </div>\r\n        <Button\r\n          style=\"transform: translateY(0.8rem)\"\r\n          outline\r\n          on:click={toggleAbsoluteVolume}\r\n          spaced>\r\n          {absoluteVolume ? '% of current' : 'Absolute'}\r\n        </Button>\r\n\r\n      </div>\r\n\r\n      {#if $showAdsr && $editMode}\r\n        <SlideControl\r\n          min={-0.01}\r\n          max={1}\r\n          step={0.01}\r\n          title={'Attack'}\r\n          bind:value={adsr[0]}\r\n          on:change={setAdsr}\r\n          customValueDisplay={{ '-0.01': 'Default', '0.005': 'Default' }} />\r\n\r\n        <SlideControl\r\n          min={-0.01}\r\n          max={1}\r\n          step={0.01}\r\n          title={'Delay'}\r\n          bind:value={adsr[1]}\r\n          on:change={setAdsr}\r\n          customValueDisplay={{ '-0.01': 'Default', '0.395': 'Default' }} />\r\n\r\n        <SlideControl\r\n          min={-0.01}\r\n          max={1}\r\n          step={0.01}\r\n          title={'Sustain'}\r\n          bind:value={adsr[2]}\r\n          on:change={setAdsr}\r\n          customValueDisplay={{ '-0.01': 'Default', '0.8': 'Default' }} />\r\n\r\n        <SlideControl\r\n          min={-0.01}\r\n          max={1}\r\n          step={0.01}\r\n          title={'Release'}\r\n          bind:value={adsr[3]}\r\n          on:change={setAdsr}\r\n          customValueDisplay={{ '-0.01': 'Default', '1.2': 'Default' }} />\r\n      {/if}\r\n    </div>\r\n  {/if}\r\n</Card>\r\n",
    "<script>\r\n  import { slide, fade } from \"svelte/transition\";\r\n  import {\r\n    soundFont,\r\n    currentSoundFont,\r\n    instrumentSets,\r\n    ac,\r\n    showAdsr,\r\n    isFocused,\r\n    activeSet,\r\n    editMode,\r\n    isReordering,\r\n  } from \"../stores\";\r\n\r\n  import Button from \"./Button.svelte\";\r\n  import Toast from \"./Toast.svelte\";\r\n\r\n  let selectedInstrument;\r\n  let availInstruments = [];\r\n\r\n  let filterString = \"\";\r\n\r\n  $: filteredList =\r\n    filterString.trim() === \"\"\r\n      ? availInstruments\r\n      : availInstruments.filter(\r\n          (item) =>\r\n            item.toLowerCase().indexOf(filterString.toLowerCase()) !== -1\r\n        );\r\n\r\n  async function getInstruments() {\r\n    try {\r\n      let data = await fetch(\r\n        `https://gleitz.github.io/midi-js-soundfonts/${$currentSoundFont}/names.json`\r\n      );\r\n      availInstruments = await data.json();\r\n      selectedInstrument = availInstruments[0];\r\n    } catch (error) {\r\n      window.popToast(\"Error loading instruments: \" + error.message);\r\n    }\r\n  }\r\n\r\n  getInstruments();\r\n\r\n  function normalizeInstrumentName(input) {\r\n    input = input.replace(/_/g, \" \");\r\n\r\n    return input.charAt(0).toUpperCase() + input.slice(1);\r\n  }\r\n\r\n  function randId() {\r\n    return Math.random()\r\n      .toString(36)\r\n      .replace(/[^a-z]+/g, \"\")\r\n      .substr(2, 10);\r\n  }\r\n\r\n  function addPickedInstrument(instrument) {\r\n    if (instrument == null) return;\r\n\r\n    selectedInstrument = instrument;\r\n    addInstrument();\r\n  }\r\n\r\n  function addInstrument() {\r\n    if (selectedInstrument == null) return;\r\n\r\n    let instrumentData = Soundfont.instrument(ac, selectedInstrument, {\r\n      soundfont: $currentSoundFont,\r\n    });\r\n\r\n    let newInstr = {\r\n      id: randId(),\r\n      name: selectedInstrument,\r\n      volume: -1,\r\n      octave: 0,\r\n      absoluteVolume: true,\r\n      data: instrumentData,\r\n      soundfont: $currentSoundFont,\r\n      adsr: [-0.01, -0.01, -0.01, -0.01],\r\n    };\r\n\r\n    let currentSets = $instrumentSets;\r\n\r\n    currentSets[$activeSet].instruments.push(newInstr);\r\n\r\n    instrumentSets.set(currentSets);\r\n  }\r\n\r\n  function switchSf() {\r\n    let curr = $currentSoundFont;\r\n\r\n    if (curr == soundFont.fluid) currentSoundFont.set(soundFont.mk);\r\n    if (curr == soundFont.mk) currentSoundFont.set(soundFont.fatboy);\r\n    if (curr == soundFont.fatboy) currentSoundFont.set(soundFont.fluid);\r\n\r\n    getInstruments();\r\n    // resetInstrumentSets();\r\n  }\r\n\r\n  function switchAdsrOpt() {\r\n    let curr = $showAdsr;\r\n\r\n    showAdsr.set(!curr);\r\n  }\r\n\r\n  function setFocused() {\r\n    isFocused.set(true);\r\n  }\r\n\r\n  function setUnfocused() {\r\n    isFocused.set(false);\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  h4 {\r\n    margin: 0;\r\n    padding: 0.8rem 0;\r\n  }\r\n\r\n  select {\r\n    background: var(--white-key-color);\r\n    color: var(--white-key-text);\r\n    border: none;\r\n    padding: 6px 8px;\r\n    box-shadow: var(--shadow-small);\r\n    border-radius: var(--border-radius);\r\n    -webkit-appearance: none;\r\n    cursor: s-resize;\r\n    transition: var(--transition);\r\n    font-family: var(--font-family);\r\n    width: 12rem;\r\n  }\r\n\r\n  select:hover {\r\n    box-shadow: var(--shadow-big);\r\n  }\r\n\r\n  .column {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 14rem;\r\n  }\r\n\r\n  .scrollList {\r\n    height: 28rem;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .scrollList::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  .search-box {\r\n    background: var(--white-key-color);\r\n    color: var(--white-key-text);\r\n    border: none;\r\n    padding: 6px 8px;\r\n    box-shadow: var(--shadow-small);\r\n    border-radius: var(--border-radius);\r\n    width: 12rem;\r\n    margin-bottom: 1rem;\r\n    font-family: var(--font-family);\r\n    margin-top: 0.5rem;\r\n  }\r\n\r\n  .mini-column {\r\n    display: flex;\r\n    flex-direction: column;\r\n    font-size: 0.8rem;\r\n    margin-top: 1rem;\r\n    width: 11.4rem;\r\n    margin-left: 0.5rem;\r\n  }\r\n\r\n  .mini-column span {\r\n    margin-bottom: 0.4rem;\r\n    flex-grow: 1;\r\n  }\r\n\r\n  .row {\r\n    display: flex;\r\n    height: 2rem;\r\n    align-items: baseline;\r\n  }\r\n\r\n  .transparent {\r\n    opacity: 0.2;\r\n    pointer-events: none;\r\n  }\r\n\r\n  ul {\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 7rem;\r\n    border-radius: 3px;\r\n    box-shadow: var(--shadow-small);\r\n    width: 12rem;\r\n    background: var(--white-key-color);\r\n  }\r\n\r\n  li {\r\n    font-size: 0.85rem;\r\n    padding: 0.5rem 0.8rem;\r\n    transition: var(--transition);\r\n  }\r\n\r\n  li:hover {\r\n    background: rgba(var(--body-text-values), 0.06);\r\n    cursor: pointer;\r\n  }\r\n\r\n  .info-msg {\r\n    font-size: 0.85rem;\r\n    line-height: 150%;\r\n    transform: translateY(-10px);\r\n  }\r\n\r\n  .info-msg span {\r\n    font-weight: bold;\r\n  }\r\n</style>\r\n\r\n{#if $editMode}\r\n  <div class=\"column\">\r\n    <h4>Instruments</h4>\r\n\r\n    <div class=\"selector\">\r\n\r\n      <input\r\n        on:focus={setFocused}\r\n        on:blur={setUnfocused}\r\n        class=\"search-box\"\r\n        placeholder=\"Search...\"\r\n        type=\"search\"\r\n        bind:value={filterString} />\r\n\r\n      <div class=\"scrollList\">\r\n        {#if filteredList.length > 0}\r\n          <ul transition:slide={{ duration: 200 }}>\r\n            {#each filteredList as item (item)}\r\n              <li on:click={(e) => addPickedInstrument(item)}>\r\n                {normalizeInstrumentName(item)}\r\n              </li>\r\n            {/each}\r\n          </ul>\r\n        {:else}\r\n          <p class=\"info-msg\" transition:slide={{ duration: 200 }}>\r\n            No instruments match\r\n            <br />\r\n            <span>{filterString}</span>\r\n          </p>\r\n        {/if}\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"mini-column\">\r\n      <div class=\"row\">\r\n        <span>Sound font</span>\r\n        <Button on:click={switchSf}>{$currentSoundFont}</Button>\r\n      </div>\r\n\r\n      <div class=\"row\" style=\"align-items: flex-end;\">\r\n        <!-- <span style=\"margin-top: 0.8rem\"></span> -->\r\n        <Button\r\n          on:click={switchAdsrOpt}\r\n          toggled={$showAdsr}\r\n          style=\"width: 100%\">\r\n          Show ADSR controls\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n{/if}\r\n<Toast />\r\n",
    "<script>\r\n  export let label = null;\r\n  export let key;\r\n  export let square = false;\r\n\r\n  function convertToInter(key) {\r\n    switch (key) {\r\n      case 0:\r\n        return square ? \"\" : \"⓪\";\r\n        break;\r\n      case 1:\r\n        return square ? \"\" : \"①\";\r\n        break;\r\n      case 2:\r\n        return square ? \"\" : \"②\";\r\n        break;\r\n      case 3:\r\n        return square ? \"\" : \"③\";\r\n        break;\r\n      case 4:\r\n        return square ? \"\" : \"④\";\r\n        break;\r\n      case 5:\r\n        return square ? \"\" : \"⑤\";\r\n        break;\r\n      case 6:\r\n        return square ? \"\" : \"⑥\";\r\n        break;\r\n      case 7:\r\n        return square ? \"\" : \"⑦\";\r\n        break;\r\n      case 8:\r\n        return square ? \"\" : \"⑧\";\r\n        break;\r\n      case 9:\r\n        return square ? \"\" : \"⑨\";\r\n        break;\r\n      default:\r\n        return key;\r\n        break;\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    opacity: 0.6;\r\n    margin-right: 10px;\r\n\r\n    pointer-events: none;\r\n    user-select: none;\r\n\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .container span {\r\n    display: inline-block;\r\n    margin-bottom: 0.4rem;\r\n  }\r\n\r\n  .label {\r\n    font-size: 0.8rem;\r\n    font-family: var(--font-family);\r\n    width: 1.4rem;\r\n    text-align: right;\r\n  }\r\n\r\n  .inter-key {\r\n    display: block;\r\n    font-family: \"Inter\", sans-serif;\r\n    font-size: 0.8rem;\r\n    transform: translateX(-10px) translateY(3px);\r\n    margin-bottom: 4px;\r\n    height: 1.4rem;\r\n    font-weight: 500;\r\n    opacity: 0.7;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  {#if label}\r\n    <span class=\"label\">{label}</span>\r\n  {/if}\r\n  <span class=\"inter-key\">\r\n    {@html convertToInter(key)}\r\n  </span>\r\n</div>\r\n",
    "<script>\r\n  import {\r\n    isFocused,\r\n    editMode,\r\n    chordMode,\r\n    chords,\r\n    chordNotes,\r\n  } from \"../stores\";\r\n  import { fade, slide } from \"svelte/transition\";\r\n  import Button from \"./Button.svelte\";\r\n</script>\r\n\r\n<style>\r\n  .blank-black-key {\r\n    background: transparent;\r\n    color: transparent;\r\n    height: 7rem;\r\n    width: 2.5rem;\r\n    margin-right: 0.2rem;\r\n    pointer-events: none;\r\n  }\r\n\r\n  .white-key {\r\n    background: var(--white-key-color);\r\n    color: var(--white-key-text);\r\n    height: 12rem;\r\n  }\r\n\r\n  .black-key {\r\n    background: var(--black-key-color);\r\n    color: var(--black-key-text);\r\n    height: 7rem;\r\n    z-index: 1;\r\n  }\r\n\r\n  .piano-grid {\r\n    display: flex;\r\n  }\r\n\r\n  .black-key,\r\n  .white-key {\r\n    margin-right: 0.2rem;\r\n    width: 2.5rem;\r\n    border-radius: 0 0 3px 3px;\r\n    box-shadow: var(--shadow-small);\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    padding: 0.5rem 0;\r\n    font-size: 0.9rem;\r\n    user-select: none;\r\n    transition: var(--transition);\r\n    position: relative;\r\n  }\r\n\r\n  .piano-grid-container {\r\n    margin: 2rem auto;\r\n    height: 12rem;\r\n    transition: 0.1s opacity;\r\n    position: relative;\r\n  }\r\n\r\n  .piano-grid-container .piano-grid:first-child {\r\n    position: relative;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n\r\n  .piano-grid-container .piano-grid:nth-child(2) {\r\n    position: relative;\r\n    top: -13rem;\r\n    left: 1rem;\r\n  }\r\n\r\n  /* .transparent .piano-grid {\r\n    opacity: 0.2;\r\n  } */\r\n\r\n  .transparent .black-key,\r\n  .transparent .white-key {\r\n    /* background: var(--white-key-color); */\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n    width: 4rem;\r\n  }\r\n\r\n  .transparent .blank-black-key {\r\n    width: 4rem;\r\n  }\r\n\r\n  .edit-mode-warn {\r\n    position: absolute;\r\n\r\n    left: 40%;\r\n    top: -15%;\r\n\r\n    font-weight: 500;\r\n    z-index: 2000;\r\n    opacity: 1;\r\n    letter-spacing: -0.2px;\r\n    color: var(--bg-color);\r\n    background: var(--body-text);\r\n    border-radius: 2px;\r\n    text-align: center;\r\n    padding: 4px 6px;\r\n  }\r\n\r\n  .chord {\r\n    opacity: 0.6;\r\n    font-size: 85%;\r\n    margin-bottom: 0.2rem;\r\n    text-align: center;\r\n  }\r\n\r\n  select {\r\n    width: 3.5rem;\r\n    border: none;\r\n    padding: 0.5rem 0;\r\n    margin-bottom: 0.1rem;\r\n    font-family: \"Rubik\", sans-serif;\r\n    font-size: 0.8rem;\r\n  }\r\n\r\n  .white-key select {\r\n    background: var(--black-key-color);\r\n  }\r\n\r\n  .black-key select {\r\n    background: var(--white-key-color);\r\n  }\r\n</style>\r\n\r\n<div\r\n  class=\"piano-grid-container {$isFocused || $editMode ? 'transparent' : ''}\">\r\n  <div class=\"piano-grid\">\r\n    <div id=\"⇪\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[20]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[20]}\r\n        </span>\r\n      {/if}\r\n      <span>⇪</span>\r\n    </div>\r\n    <div id=\"A\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[65]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[65]}\r\n        </span>\r\n      {/if}\r\n      <span>A</span>\r\n    </div>\r\n    <div id=\"S\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[83]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[83]}\r\n        </span>\r\n      {/if}\r\n      <span>S</span>\r\n    </div>\r\n    <div id=\"D\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[68]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[68]}\r\n        </span>\r\n      {/if}\r\n      <span>D</span>\r\n    </div>\r\n    <div id=\"F\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[70]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[70]}\r\n        </span>\r\n      {/if}\r\n      <span>F</span>\r\n    </div>\r\n    <div id=\"G\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[71]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[71]}\r\n        </span>\r\n      {/if}\r\n      <span>G</span>\r\n    </div>\r\n    <div id=\"H\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[72]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[72]}\r\n        </span>\r\n      {/if}\r\n      <span>H</span>\r\n    </div>\r\n    <div id=\"J\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[74]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[74]}\r\n        </span>\r\n      {/if}\r\n      <span>J</span>\r\n    </div>\r\n    <div id=\"K\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[75]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[75]}\r\n        </span>\r\n      {/if}\r\n      <span>K</span>\r\n    </div>\r\n    <div id=\"L\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[76]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[76]}\r\n        </span>\r\n      {/if}\r\n      <span>L</span>\r\n    </div>\r\n    <div id=\"Č\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[186]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[186]}\r\n        </span>\r\n      {/if}\r\n      <span>Č</span>\r\n    </div>\r\n    <div id=\"Ć\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[222]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[222]}\r\n        </span>\r\n      {/if}\r\n      <span>Ć</span>\r\n    </div>\r\n    <div id=\"Ž\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[220]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[220]}\r\n        </span>\r\n      {/if}\r\n      <span>Ž</span>\r\n    </div>\r\n    <div id=\"↵\" class=\"white-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[13]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[13]}\r\n        </span>\r\n      {/if}\r\n      <span>↵</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"piano-grid\">\r\n    <div id=\"Q\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[81]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[81]}\r\n        </span>\r\n      {/if}\r\n      <span>Q</span>\r\n    </div>\r\n    <div id=\"W\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[87]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[87]}\r\n        </span>\r\n      {/if}\r\n      <span>W</span>\r\n    </div>\r\n    <div id=\"E\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[69]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[69]}\r\n        </span>\r\n      {/if}\r\n      <span>E</span>\r\n    </div>\r\n    <div class=\"blank-black-key\" />\r\n    <div id=\"T\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[84]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[84]}\r\n        </span>\r\n      {/if}\r\n      <span>T</span>\r\n    </div>\r\n    <div id=\"Z\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[90]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[90]}\r\n        </span>\r\n      {/if}\r\n      <span>Z</span>\r\n    </div>\r\n    <div class=\"blank-black-key\" />\r\n    <div id=\"I\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[73]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[73]}\r\n        </span>\r\n      {/if}\r\n      <span>I</span>\r\n    </div>\r\n    <div id=\"O\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[79]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[79]}\r\n        </span>\r\n      {/if}\r\n      <span>O</span>\r\n    </div>\r\n    <div id=\"P\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[80]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[80]}\r\n        </span>\r\n      {/if}\r\n      <span>P</span>\r\n    </div>\r\n    <div class=\"blank-black-key\" />\r\n    <div id=\"Đ\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[221]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[221]}\r\n        </span>\r\n      {/if}\r\n      <span>Đ</span>\r\n    </div>\r\n    <div id=\"⌫\" class=\"black-key\">\r\n      {#if $editMode}\r\n        <select bind:value={$chordNotes[8]} transition:fade>\r\n          <option value=\"\">-</option>\r\n          {#each Object.keys(chords) as item}\r\n            <option value={item}>{item.replace('<br>', '/')}</option>\r\n          {/each}\r\n        </select>\r\n      {:else if $chordMode}\r\n        <span class=\"chord\" transition:slide={{ y: 80, duration: 300 }}>\r\n          {@html $chordNotes[8]}\r\n        </span>\r\n      {/if}\r\n      <span>⌫</span>\r\n    </div>\r\n  </div>\r\n\r\n  {#if $editMode}\r\n    <p class=\"edit-mode-warn\" transition:slide={{ y: 80, duration: 300 }}>\r\n      Edit mode\r\n    </p>\r\n  {/if}\r\n</div>\r\n",
    "<script>\r\n  import { activeSet, instrumentSets, editMode, isReordering } from \"../stores\";\r\n  import InstrumentCard from \"./InstrumentCard.svelte\";\r\n  import DragAndDropList from \"./DragAndDropList.svelte\";\r\n  import Button from \"./Button.svelte\";\r\n  import Toast from \"./Toast.svelte\";\r\n  import { slide } from \"svelte/transition\";\r\n  import { quintOut } from \"svelte/easing\";\r\n  import { flip } from \"svelte/animate\";\r\n\r\n  function update(from, to) {\r\n    let newList = [...$instrumentSets[$activeSet].instruments];\r\n    newList[from] = [newList[to], (newList[to] = newList[from])][0];\r\n\r\n    $instrumentSets[$activeSet].instruments = [...newList];\r\n    instrumentSets.set($instrumentSets);\r\n  }\r\n\r\n  function toggleReorder() {\r\n    isReordering.set(!$isReordering);\r\n    window.pushToast(\"Reordering \" + ($isReordering ? \"on\" : \"off\"));\r\n  }\r\n</script>\r\n\r\n<style>\r\n  h4 {\r\n    margin: 0;\r\n    padding: 0.8rem 0;\r\n    text-transform: uppercase;\r\n  }\r\n\r\n  .error {\r\n    font-size: 0.9rem;\r\n    font-weight: 400;\r\n  }\r\n\r\n  .title-flex {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    margin: 0;\r\n    /* padding: 0.8rem 0; */\r\n    padding: 0;\r\n    height: 3rem;\r\n  }\r\n</style>\r\n\r\n<div style=\"width: 22rem;\">\r\n\r\n  <div class=\"title-flex\">\r\n    <h4>{$instrumentSets[$activeSet].name}</h4>\r\n    {#if $editMode}\r\n      <div transition:slide>\r\n        <Button on:click={toggleReorder} toggled={$isReordering}>\r\n          Reorder\r\n        </Button>\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n  <DragAndDropList\r\n    list={$instrumentSets[$activeSet].instruments}\r\n    canReroder={$isReordering}\r\n    let:item\r\n    {update}>\r\n    <InstrumentCard {...item} nohover={$isReordering} />\r\n    <p class=\"error\" slot=\"error\">No instruments</p>\r\n  </DragAndDropList>\r\n\r\n</div>\r\n\r\n<Toast />\r\n",
    "<script>\r\n  import { flip } from \"svelte/animate\";\r\n  import { slide, fade, scale } from \"svelte/transition\";\r\n\r\n  import { activeSet, instrumentSets, editMode, isReordering } from \"../stores\";\r\n\r\n  import Button from \"./Button.svelte\";\r\n  import DragAndDropList from \"./DragAndDropList.svelte\";\r\n  import Toast from \"./Toast.svelte\";\r\n\r\n  import Card from \"./Card.svelte\";\r\n  import KeyboardKey from \"./KeyboardKey.svelte\";\r\n\r\n  function normalizedName(name) {\r\n    name = name.replace(/_/g, \" \");\r\n\r\n    return name.charAt(0).toUpperCase() + name.slice(1);\r\n  }\r\n\r\n  function randId() {\r\n    return Math.random()\r\n      .toString(36)\r\n      .replace(/[^a-z]+/g, \"\")\r\n      .substr(2, 10);\r\n  }\r\n\r\n  function addSet() {\r\n    instrumentSets.set([\r\n      ...$instrumentSets,\r\n      {\r\n        id: randId(),\r\n        name: \"New set\",\r\n        instruments: []\r\n      }\r\n    ]);\r\n\r\n    window.pushToast(\"Instrument set added\");\r\n  }\r\n\r\n  function deleteSet(set, event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const name = $instrumentSets[set].name;\r\n\r\n    if (confirm(\"Delete instrument set?\")) {\r\n      let newSets = [...$instrumentSets];\r\n      newSets.splice(set, 1);\r\n      instrumentSets.set([...newSets]);\r\n    }\r\n\r\n    window.pushToast(\"Removed <i>\" + name + \"</i>\");\r\n  }\r\n\r\n  function downloadObjectAsJson() {\r\n    var dataStr =\r\n      \"data:text/json;charset=utf-8,\" +\r\n      encodeURIComponent(JSON.stringify($instrumentSets));\r\n    var downloadAnchorNode = document.createElement(\"a\");\r\n    downloadAnchorNode.setAttribute(\"href\", dataStr);\r\n    downloadAnchorNode.setAttribute(\"download\", \"backup.json\");\r\n    document.body.appendChild(downloadAnchorNode); // required for firefox\r\n    downloadAnchorNode.click();\r\n    downloadAnchorNode.remove();\r\n\r\n    window.pushToast(\"Backup downloading\");\r\n  }\r\n\r\n  function restore() {\r\n    let input = prompt(\"Copy-paste the backup .json contents\");\r\n\r\n    if (input != null) {\r\n      try {\r\n        let parsed = JSON.parse(input);\r\n        console.log(parsed);\r\n\r\n        instrumentSets.set([...parsed]);\r\n      } catch (error) {\r\n        window.pushToast(\"Restore not successful\", \"error\");\r\n      }\r\n\r\n      window.pushToast(\"Restore successful\");\r\n    } else {\r\n      window.pushToast(\"Invalid restore input\", \"error\");\r\n    }\r\n  }\r\n\r\n  function update(from, to) {\r\n    let newList = [...$instrumentSets];\r\n    newList[from] = [newList[to], (newList[to] = newList[from])][0];\r\n\r\n    $instrumentSets = [...newList];\r\n    instrumentSets.set($instrumentSets);\r\n  }\r\n\r\n  const updateValue = (item, prop, value) => {\r\n    // either this...\r\n    item[prop] = value;\r\n    instrumentSets.set($instrumentSets); // force an update\r\n\r\n    // ...or this:\r\n    // instrumentSets.set(\r\n    //   $instrumentSets.map(i => (i === item ? { ...i, [prop]: value } : i))\r\n    // );\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 0 2rem;\r\n  }\r\n\r\n  h4 {\r\n    /* margin-bottom: 0.8rem; */\r\n    margin: 0;\r\n    padding: 0;\r\n    text-align: left;\r\n  }\r\n\r\n  .fixed-card {\r\n    width: 14rem;\r\n    display: flex;\r\n    padding: 0;\r\n    margin: 0;\r\n    transition: 0.2s all;\r\n  }\r\n\r\n  .remove-btm-margin {\r\n    margin-bottom: -0.6rem;\r\n  }\r\n\r\n  .f-grow {\r\n    flex-grow: 1;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .f-shrink {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .act {\r\n    color: var(--accent-color) !important;\r\n  }\r\n\r\n  .uppercase {\r\n    text-transform: uppercase;\r\n    font-size: 0.8rem;\r\n    font-weight: 400 !important;\r\n    letter-spacing: 1.2px;\r\n    margin: 0;\r\n    padding: 0;\r\n    transition: 0.2s transform;\r\n  }\r\n\r\n  .info-txt {\r\n    display: block;\r\n    font-size: 0.8rem;\r\n    opacity: 0.6;\r\n    margin: 0.05rem 0;\r\n  }\r\n\r\n  .transform-key {\r\n    transform: translateX(0.6rem) translateY(-0.1rem);\r\n  }\r\n\r\n  .edit-field {\r\n    /* background: transparent; */\r\n    /* background: var(--white-key-color); */\r\n    background: rgba(var(--body-text-values), 0.03);\r\n    border: 1px solid transparent;\r\n    border-bottom: 1px solid rgba(var(--body-text-values), 0.2);\r\n    border-radius: 3px;\r\n    /* box-shadow: var(--shadow-small); */\r\n    height: 20px;\r\n    font-family: var(--font-family);\r\n    text-transform: uppercase;\r\n    font-size: 13px;\r\n    margin: 0 0 11px 0;\r\n    padding: 4px 8px;\r\n    transition: var(--transition);\r\n    color: var(--white-key-text);\r\n  }\r\n\r\n  .edit-field:hover {\r\n    border-bottom: 1px solid rgba(var(--body-text-values), 0.6);\r\n  }\r\n\r\n  .edit-field:focus {\r\n    border: 1px solid transparent;\r\n    border-bottom: 1px solid var(--accent);\r\n  }\r\n\r\n  input.act.edit-field {\r\n    font-weight: 900;\r\n  }\r\n\r\n  .label-field {\r\n    background: transparent;\r\n    border: none !important;\r\n    height: 10px !important;\r\n    margin: 0 !important;\r\n    padding: 0 !important;\r\n    box-shadow: none !important;\r\n    /* transform: translateY(0px); */\r\n    transition: var(--transition);\r\n    color: var(--body-text);\r\n  }\r\n\r\n  .title-flex {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    margin: 0;\r\n    padding: 0.8rem 0;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n\r\n  <div class=\"title-flex\">\r\n    <h4 style=\"font-weight: 400\">Instrument sets</h4>\r\n    {#if $editMode}\r\n      <div transition:slide>\r\n        <Button on:click={addSet}>Add</Button>\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n  <DragAndDropList\r\n    bind:list={$instrumentSets}\r\n    canReroder={$isReordering}\r\n    let:item={set}\r\n    let:index={i}\r\n    {update}>\r\n    <Card\r\n      disabled={set.instruments.length < 1 && !$editMode}\r\n      passive={false}\r\n      active={$activeSet === i}\r\n      on:click={() => {\r\n        activeSet.set(i);\r\n      }}>\r\n      <div\r\n        class=\"fixed-card {set.instruments.length > 0 ? '' : 'remove-btm-margin'}\">\r\n        <div class=\"f-grow\">\r\n\r\n          <input\r\n            type=\"text\"\r\n            value={set.name}\r\n            on:input={e => updateValue(set, 'name', e.target.value)}\r\n            class=\"uppercase {$editMode ? 'edit-field' : 'label-field'}\"\r\n            class:act={$activeSet === i && !$editMode}\r\n            style=\"transition-delay: {50 * i}ms;\"\r\n            disabled={!$editMode} />\r\n\r\n          <!-- <div>\r\n              {#if isEditing}\r\n                <Button outline on:click={finishEditing}>Save</Button>\r\n              {/if}\r\n            </div> -->\r\n\r\n          {#each set.instruments as i (i.id)}\r\n            <span class=\"info-txt\" transition:slide animate:flip>\r\n              {normalizedName(i.name)}\r\n            </span>\r\n          {/each}\r\n        </div>\r\n        {#if !$editMode}\r\n          <div\r\n            class=\"f-shrink transform-key\"\r\n            transition:fade={{ duration: 150, delay: 50 * i }}>\r\n            <KeyboardKey square key={i + 1 < 10 ? i + 1 : i >= 10 ? '' : 0} />\r\n          </div>\r\n        {:else if $editMode && i >= 1 && i !== $activeSet}\r\n          <div\r\n            class=\"f-shrink transform-key\"\r\n            transition:fade={{ duration: 150 }}>\r\n            <Button\r\n              on:click={e => deleteSet(i, e)}\r\n              outline\r\n              style=\"font-family: 'Inter', sans-serif; transform:\r\n              translateX(-8px) translateY(1px); padding: 0.3rem; font-size:\r\n              1rem;\">\r\n              ⌫\r\n            </Button>\r\n          </div>\r\n        {/if}\r\n      </div>\r\n\r\n    </Card>\r\n\r\n    <p slot=\"error\">\r\n      🕳 No instrument sets.\r\n      <br />\r\n      This is an error.\r\n    </p>\r\n  </DragAndDropList>\r\n\r\n  {#if $editMode}\r\n    <div class=\"title-flex\" transition:slide>\r\n      <Button on:click={downloadObjectAsJson}>Backup</Button>\r\n      <Button on:click={restore}>Restore</Button>\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<Toast />\r\n",
    "<script>\r\n  import KeyboardKey from \"./KeyboardKey.svelte\";\r\n\r\n  export let title;\r\n  export let min;\r\n  export let max;\r\n  export let step;\r\n  export let value;\r\n  export let keyboardKeys = null;\r\n  export let customValueDisplay = null;\r\n\r\n  $: formattedValue =\r\n    customValueDisplay != null && customValueDisplay[value] != null\r\n      ? customValueDisplay[value]\r\n      : value;\r\n\r\n  let hovering = false;\r\n</script>\r\n\r\n<style>\r\n  .slide-ctrl {\r\n    /*margin-right: 60px;*/\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .title {\r\n    display: block;\r\n    opacity: 0.9;\r\n    margin-bottom: 0.4rem;\r\n    margin-left: 0.05rem;\r\n    font-size: 0.9rem;\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  .value {\r\n    display: inline-block;\r\n    width: 2rem;\r\n    margin-left: 0.2rem;\r\n    font-size: 0.9rem;\r\n    opacity: 0.8;\r\n    transform: translateY(-0.35rem);\r\n  }\r\n\r\n  .hints {\r\n    display: flex;\r\n    margin-left: 0.2rem;\r\n    margin-top: 0.5rem;\r\n    flex-wrap: wrap;\r\n    width: 70%;\r\n  }\r\n\r\n  .title,\r\n  .value {\r\n    user-select: none;\r\n  }\r\n\r\n  input[type=\"range\"] {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: none;\r\n    display: inline-block;\r\n    transform: translateY(-8px);\r\n  }\r\n\r\n  input[type=\"range\"]:focus {\r\n    outline: none;\r\n  }\r\n\r\n  input[type=\"range\"]::-webkit-slider-runnable-track {\r\n    width: 100%;\r\n    height: 2px;\r\n    background: rgba(var(--body-text-values), 0.4);\r\n    border-radius: 1px;\r\n    cursor: pointer;\r\n    transition: var(--transition);\r\n  }\r\n\r\n  input[type=\"range\"]::-webkit-slider-thumb {\r\n    height: 14px;\r\n    width: 14px;\r\n    border-radius: 50%;\r\n    background: var(--body-text);\r\n    cursor: cursor;\r\n    -webkit-appearance: none;\r\n    margin-top: -6px;\r\n  }\r\n</style>\r\n\r\n<div class=\"slide-ctrl\">\r\n  <label>\r\n    <span class=\"title\">{title}</span>\r\n    <input type=\"range\" {min} {max} {step} bind:value on:change />\r\n    <span class=\"value\">{formattedValue}</span>\r\n  </label>\r\n\r\n  {#if keyboardKeys && hovering}\r\n    <div class=\"hints\">\r\n      {#each keyboardKeys as kbKey}\r\n        <KeyboardKey {...kbKey} />\r\n      {/each}\r\n    </div>\r\n  {/if}\r\n\r\n</div>\r\n",
    "<script>\r\n  import Button from \"./Button.svelte\";\r\n  import Toast from \"./Toast.svelte\";\r\n\r\n  import { theme } from \"../stores.js\";\r\n\r\n  let optionsVisible = false;\r\n\r\n  function applyTheme(newVal) {\r\n    theme.set(newVal);\r\n\r\n    if (\r\n      ($theme === 0 &&\r\n        window.matchMedia(\"(prefers-color-scheme: dark)\").matches) ||\r\n      $theme === 2\r\n    ) {\r\n      document.querySelector(\"html\").className = \"dark\";\r\n    } else {\r\n      document.querySelector(\"html\").className = \"\";\r\n    }\r\n\r\n    toggleOptionsVisibility();\r\n\r\n    window.pushToast(\r\n      \"Theme set to <i>\" +\r\n        (newVal == 0 ? \"auto\" : newVal == 1 ? \"light\" : \"dark\") +\r\n        \"</i>\"\r\n    );\r\n  }\r\n\r\n  function toggleOptionsVisibility() {\r\n    optionsVisible = !optionsVisible;\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .container {\r\n    position: relative;\r\n\r\n    z-index: 2000;\r\n  }\r\n\r\n  .options.visible {\r\n    /* top: 1.4rem; */\r\n    opacity: 1;\r\n    transform: scaleY(1) scaleX(1);\r\n    /* padding: 0.6rem 0; */\r\n  }\r\n\r\n  .options {\r\n    display: flex;\r\n    flex-direction: column;\r\n    box-shadow: var(--shadow-big);\r\n    background: var(--black-key-color);\r\n    padding: 0.5rem 0;\r\n    border-radius: 6px;\r\n    position: absolute;\r\n    top: 1.5rem;\r\n    left: 0;\r\n    transform-origin: top left;\r\n    opacity: 0;\r\n    transition: var(--transition);\r\n    transform: scaleY(0.1) scaleX(0.4);\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  ul {\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 7rem;\r\n  }\r\n\r\n  li {\r\n    font-size: 0.85rem;\r\n    padding: 0.5rem 0.8rem;\r\n    transition: var(--transition);\r\n  }\r\n\r\n  li:not(.active):hover {\r\n    background: rgba(var(--body-text-values), 0.06);\r\n    cursor: pointer;\r\n  }\r\n\r\n  li.active {\r\n    color: var(--accent-color);\r\n    pointer-events: none;\r\n  }\r\n\r\n  .backdrop {\r\n    background: transparent;\r\n    margin: 0;\r\n    padding: 0;\r\n\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    z-index: 1000;\r\n\r\n    overflow: hidden;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <div>\r\n    <Button on:click={toggleOptionsVisibility} active={optionsVisible}>\r\n      Theme\r\n    </Button>\r\n  </div>\r\n  <div class=\"options\" class:visible={optionsVisible}>\r\n    <ul>\r\n      <li class:active={$theme === 0} on:click={() => applyTheme(0)}>Auto</li>\r\n      <li class:active={$theme === 1} on:click={() => applyTheme(1)}>Light</li>\r\n      <li class:active={$theme === 2} on:click={() => applyTheme(2)}>Dark</li>\r\n    </ul>\r\n\r\n  </div>\r\n</div>\r\n\r\n{#if optionsVisible}\r\n  <div class=\"backdrop\" on:click={() => (optionsVisible = false)} />\r\n{/if}\r\n\r\n<Toast />\r\n",
    "<script>\r\n\r\n</script>\r\n\r\n<style>\r\n    .titlebar {\r\n        width: 60vw;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin-bottom: 2rem;\r\n    }\r\n\r\n    .right {\r\n        display: flex;\r\n    }\r\n</style>\r\n\r\n<div class=\"titlebar\">\r\n    <slot name=\"left\" />\r\n    <div class=\"right\">\r\n        <slot/>\r\n    </div>\r\n</div>",
    "<script>\r\n  import { onMount } from \"svelte\";\r\n  import { fly, slide } from \"svelte/transition\";\r\n  import { backOut } from \"svelte/easing\";\r\n  import { flip } from \"svelte/animate\";\r\n\r\n  let toasts = [];\r\n  let retainMs = 2000;\r\n\r\n  let toastId = 0;\r\n  const pushToast = (msg = \"\", type) => {\r\n    let id = ++toastId;\r\n    toasts = [\r\n      ...toasts,\r\n      {\r\n        _id: id,\r\n        type: type,\r\n        msg\r\n      }\r\n    ];\r\n    setTimeout(() => {\r\n      unshiftToast(id);\r\n    }, retainMs);\r\n  };\r\n\r\n  const unshiftToast = () => {\r\n    toasts = toasts.filter((a, i) => i > 0);\r\n  };\r\n  // const unshiftToast = id => {\r\n  //   toasts.splice(id - 1, 1);\r\n  //   toasts = [...toasts];\r\n  // };\r\n\r\n  onMount(() => {\r\n    window.pushToast = pushToast;\r\n  });\r\n\r\n  function getCurrentTime() {\r\n    let today = new Date();\r\n    let time = today.getHours() + \":\" + today.getMinutes();\r\n    return time;\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .toast-wrapper {\r\n    position: fixed;\r\n    right: 0;\r\n    top: 0;\r\n    z-index: 9999;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: flex-end;\r\n    padding: 0.5rem;\r\n    text-align: right;\r\n    transition: all 0.15s ease;\r\n  }\r\n\r\n  .toast-item {\r\n    border-radius: 4px;\r\n    padding: 0.5rem 0.7rem;\r\n    margin: 0.2rem;\r\n    background: rgba(var(--body-text-values), 0.7);\r\n    color: var(--bg-color);\r\n    font-size: 0.9rem;\r\n    cursor: pointer;\r\n    transition: width 0.2s ease, height 0.2s ease;\r\n    transform-origin: top right;\r\n  }\r\n  .toast-item span {\r\n    display: block;\r\n    font-size: 0.75rem;\r\n    margin-top: 0.1rem;\r\n    opacity: 0.6;\r\n  }\r\n\r\n  .toast-item.error {\r\n    background: rgba(216, 58, 66, 0.7);\r\n    color: #fff;\r\n  }\r\n</style>\r\n\r\n<div class=\"toast-wrapper\">\r\n  {#each toasts as toast (toast._id)}\r\n    <div\r\n      class=\"toast-item\"\r\n      in:fly={{ delay: 0, duration: 300, x: 50, y: 0, opacity: 0.1, easing: backOut }}\r\n      out:slide={{ duration: 300 }}\r\n      on:click={() => unshiftToast(toast._id)}\r\n      class:error={toast.type == 'error'}>\r\n      {@html toast.msg}\r\n      <br />\r\n      <span>{getCurrentTime()}</span>\r\n    </div>\r\n  {/each}\r\n</div>\r\n"
  ],
  "names": [],
  "mappings": "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"
}